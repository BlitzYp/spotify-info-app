<h1 class="mb-4 text-center">🎧 Top {{limit}} Tracks for {{ display_name }}</h1>
{% if no_tracks %}
  <div class="alert alert-warning text-center">
    <strong>No data found:</strong> Spotify didn’t return any top tracks for your account.
  </div>
{% else %}
<table id="song-table" data-sort-dir="desc" data-sort-col="0" class="table table-hover table-bordered bg-white shadow-sm">
  <thead class="table-dark">
  <tr>
    <th><button class="btn btn-link text-light p-0 sort-header" onclick="sortTable(0)"># <span class="sort-arrow"></span></button></th>
    <th><button class="btn btn-link text-light p-0 sort-header" onclick="sortTable(1)">Track <span class="sort-arrow"></span></button></th>
    <th><button class="btn btn-link text-light p-0 sort-header" onclick="sortTable(2)">Artist <span class="sort-arrow"></span></button></th>
    <th><button class="btn btn-link text-light p-0 sort-header" onclick="sortTable(3)">Genre(s) <span class="sort-arrow"></span></button></th>
  </tr>
  </thead>
  <tbody>
    {% for song in songs %}
      <tr>
        <td>{{ loop.index }}</td>
        <td>{{ song.name }}</td>
        <td>{{ song.artist }}</td>
        <td>{{ song.genre }}</td>
      </tr>
    {% endfor %}
  </tbody>
</table>
{% endif %}

<hr>
<div class="text-center my-3">
  <h5>📁 Export your data:</h5>
  <a href="/export?format=txt" class="btn btn-outline-primary mx-1">Download .txt</a>
  <a href="/export?format=csv" class="btn btn-outline-success mx-1">Download .csv</a>
  <a href="/export?format=json" class="btn btn-outline-dark mx-1">Download .json</a>
</div>

<hr class="my-4">
<h4 class="text-center mb-3">🧠 Your Genre & Artist Summary</h4>
<div class="row">
  <div class="col-md-6">
    <h5>🎵 Top Genres:</h5>
    <ul>
      {% for genre, count in top_genres %}
      <li>{{ genre }} ({{ count }})</li>
      {% endfor %}
    </ul>
  </div>

  <div class="col-md-6">
    <h5>🎤 Top Artists:</h5>
    <ul>
      {% for artist, count in top_artists %}
      <li>{{ artist }} ({{ count }})</li>
      {% endfor %}
    </ul>
  </div>
</div>